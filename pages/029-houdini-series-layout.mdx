# 029: Houdini Series: Layout

<div>
  <audio
    style={{ width: 100 + '%', marginTop: 1 + 'rem' }}
    controls
    src="https://traffic.libsyn.com/secure/thecsspodcast/TCP_CSS_Podcast_Episode_029_v1.0-Alt-Ending.mp3"
  />
</div>

| Time                                                                       | Transcript                                                                                          |
| -------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------- |
| [00:00](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=0.0)    | Welcome to the CSS Podcast, where we cover all things CSS from accessibility to z-index.            |
| [00:17](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=16.72)  | Today we're continuing our CSS Houdini series and talking about the layout worklet, also            |
| [00:23](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=22.64)  | known as the Houdini Layout API.                                                                    |
| [00:25](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=25.24)  | This is the last of our Houdini series and certainly the most experimental of the topics            |
| [00:30](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=30.2)   | we've discussed on the show, but stay with us because it opens a lot of interesting possibilities   |
| [00:35](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=34.82)  | for web developers.                                                                                 |
| [00:36](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=36.12)  | And it's also a very complex API, so we're going to do our best to break it all down                |
| [00:41](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=40.68)  | for you.                                                                                            |
| [00:42](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=41.68)  | The Layout API enables developers to write their own layout algorithms, in addition to              |
| [00:47](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=46.56)  | the native algorithms like Flexbox and Grid that are provided by browsers.                          |
| [00:52](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=51.56)  | It is a CSS working group draft spec and a worklet within the Houdini ecosystem.                    |
| [00:58](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=58.36)  | For more about Houdini worklets, check out our last episode on the Paint worklet, where             |
| [01:03](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=63.16)  | Adam does a really nice in-depth overview on worklets and workers and the difference.               |
| [01:08](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=68.36)  | So can you quickly give us a quick rundown of that difference just to get folks caught              |
| [01:13](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=73.2)   | up?                                                                                                 |
| [01:14](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=74.2)   | Yes, a worker is an abstract concept of a file, looks like a script file, that will                 |
| [01:20](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=79.52)  | be created in a small sandbox by a parent process.                                                  |
| [01:25](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=84.76)  | And they often create hundreds of these little processes to tackle very large amounts of            |
| [01:30](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=89.88)  | work.                                                                                               |
| [01:31](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=90.88)  | And so that's what workers are for.                                                                 |
| [01:32](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=92.2)   | And a worklet is a subset of a worker specifically for Houdini and the web that empowers the        |
| [01:38](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=98.36)  | ability for the engine to communicate with your JavaScript and perform a task on a canvas.          |
| [01:44](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=103.68) | Awesome.                                                                                            |
| [01:45](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=104.68) | If you wanted to use a layout worklet, similar to the Paint worklet, you have to first write        |
| [01:51](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=111.16) | the worklet, this time using register layout, give it a name, and then you have a class             |
| [01:55](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=115.48) | with the logic inside of that, that you are using to basically say what you want this               |
| [02:02](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=122.24) | layout logic to be.                                                                                 |
| [02:04](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=123.72) | And you use that with something called the class constructor that's referred to in the              |
| [02:09](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=128.52) | spec as layout-c-tor.                                                                               |
| [02:10](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=129.52) | I thought that was cool.                                                                            |
| [02:12](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=131.96) | Layout-c-tor.                                                                                       |
| [02:13](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=133.0)  | And it has all of the layout logic in there.                                                        |
| [02:16](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=136.0)  | So once you've done that, you then have to register it.                                             |
| [02:19](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=139.44) | So you would do css.layoutworklet.add module, link to the worklet file, you would then use          |
| [02:26](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=146.04) | it in your CSS.                                                                                     |
| [02:27](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=147.04) | So once you have it registered on the CSS interface, you can use it within your style               |
| [02:33](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=153.16) | code.                                                                                               |
| [02:34](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=154.16) | So if you are writing the layout worklet using register paint, there are a few different            |
| [02:40](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=159.84) | options just like with paint that you can put inside of here.                                       |
| [02:44](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=164.0)  | And layout specifically is kind of complicated.                                                     |
| [02:46](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=166.5)  | There's a lot of concepts like children, layout child, various things in here that might sound      |
| [02:53](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=172.68) | a little foreign.                                                                                   |
| [02:54](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=173.68) | So let's start with one that doesn't sound foreign and it is also something that you                |
| [02:57](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=176.76) | see in the paint worklet and that's input properties.                                               |
| [03:00](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=179.8)  | So these are custom properties that you can call inside of layout, just like with that              |
| [03:04](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=184.02) | paint worklet, from the outside.                                                                    |
| [03:07](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=186.52) | So if you had a custom property called indent or indent lines or rhythm, then you could             |
| [03:12](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=192.34) | call that within layout like static input properties like static get input properties               |
| [03:17](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=197.34) | equals and then with strings in an array, call those and then you can use them using                |
| [03:22](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=202.04) | properties.get and then get those values and be able to apply layout updates and styling            |
| [03:29](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=208.6)  | using input properties that you're customizing your worklet with.                                   |
| [03:32](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=212.34) | So not only is there input properties, but there's also child input properties and these            |
| [03:37](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=217.18) | are custom properties that you could use that are on the children.                                  |
| [03:41](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=220.76) | So unlike in paint, with the layout worklet, you're defining layout on a parent and children        |
| [03:45](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=225.12) | with layout child.                                                                                  |
| [03:46](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=226.4)  | So you can use these child input properties for styling the layout child and a layout               |
| [03:51](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=230.88) | child can be generated by an element, a root inline box, a before or after pseudo element           |
| [03:56](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=236.4)  | or an anonymous element.                                                                            |
| [03:58](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=237.92) | And we can get really deep into the stuff, but it also as mentioned earlier is an experimental      |
| [04:03](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=242.84) | spec so we don't want to dive like too deep in the nitty gritty because things might change.        |
| [04:08](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=247.52) | But there's also layout options within the options here.                                            |
| [04:12](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=252.32) | And this is a way to define the options for your layout.                                            |
| [04:18](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=257.52) | I'll just show examples.                                                                            |
| [04:19](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=258.52) | I don't know how to better explain that.                                                            |
| [04:21](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=260.86) | So there's a child display type, which can either be block, that's the default or normal.           |
| [04:26](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=265.52) | And then there's a layout sizing mode.                                                              |
| [04:27](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=267.3)  | So the sizing could be block like, which is the default or manual.                                  |
| [04:31](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=271.4)  | And if it's manual, then you, the author, have to specify it.                                       |
| [04:34](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=274.32) | So you can write these like static layout options equals and then in curly braces, child            |
| [04:41](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=280.88) | display colon and then the type.                                                                    |
| [04:42](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=282.28) | So normal could be the type or block.                                                               |
| [04:45](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=284.94) | So that's just an example of how to use input properties, children input properties and             |
| [04:49](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=289.04) | then layout options.                                                                                |
| [04:50](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=290.04) | Yes, this is a very heavy concept, these layouts, because she's right.                              |
| [04:55](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=295.32) | You're receiving not only the parent context and its size and dimensions and its settings           |
| [05:01](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=300.6)  | and CSS and props, but also the children, because you need to know all of that in order             |
| [05:05](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=305.04) | to make your layout.                                                                                |
| [05:07](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=306.56) | So if you're already confused, sorry, we're going to only confuse you more with more details,       |
| [05:12](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=311.72) | but we're going to do our best, like always, to try to make it as digestible.                       |
| [05:15](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=314.52) | And honestly, you know, you've done smashing so far.                                                |
| [05:18](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=317.52) | So a lot of the layout worklet has to do with the concept of asynchronous and promises.             |
| [05:24](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=323.88) | And the reason it does that is it anticipates the work that comes from the layout to be             |
| [05:28](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=328.36) | heavy or to request a lot of values about children.                                                 |
| [05:32](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=331.5)  | And so the reason that they're using async here as your function type.                              |
| [05:35](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=334.9)  | So your layout function is an async function and that'll let you await the promises that            |
| [05:40](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=339.76) | come back from the API.                                                                             |
| [05:41](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=340.76) | So a lot of the API for the layout returns promises.                                                |
| [05:44](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=343.76) | And so you'll want to be using promise.all and await on your keywords so you can keep               |
| [05:49](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=348.54) | your logic looking nice and flat instead of a bunch of nested promises.                             |
| [05:53](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=352.8)  | Another reason that async functions are valuable is they're assumed to be long running tasks        |
| [05:57](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=357.08) | and you don't want them to be blocking.                                                             |
| [05:59](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=358.84) | So by going asynchronous, we can do a long running task and just await values as we have            |
| [06:04](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=363.6)  | them.                                                                                               |
| [06:05](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=364.6)  | So this is really nice.                                                                             |
| [06:06](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=365.6)  | A use case is you're creating a layout fragment for a child and then you can query the size         |
| [06:09](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=369.06) | of that element and use its value on the next line.                                                 |
| [06:12](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=371.92) | So a lot of times you'd have to like wait a whole frame or a whole loop or this is why              |
| [06:16](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=376.12) | it's a promise also is there's an amount of time that has to take to get that child's               |
| [06:20](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=379.88) | size and come back to you.                                                                          |
| [06:21](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=380.88) | So we're using async functions, we can await that and skip a few frames, but still feel             |
| [06:26](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=385.52) | like we're in the same next line in our JavaScript.                                                 |
| [06:28](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=387.96) | It's really nice.                                                                                   |
| [06:29](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=389.36) | So then there's the last part of here, which is that we can put these asynchronous requests         |
| [06:33](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=392.78) | into a loop and get all children in just a couple lines of JS.                                      |
| [06:36](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=395.82) | So this is where like the power of promise.all comes in is you could have 20 children that          |
| [06:40](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=399.96) | all have a promise to tell you their size.                                                          |
| [06:43](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=402.92) | You can promise.all map each one of those children's requests to their size and come                |
| [06:48](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=407.98) | back and pretty much one line of code have every single child's size ready for the next             |
| [06:54](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=413.68) | line of code for you to do some sort of drawing layout algorithm.                                   |
| [06:57](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=416.68) | So it's really important if you're doing something like masonry, you're like, give me every child's |
| [07:00](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=420.04) | size.                                                                                               |
| [07:01](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=421.04) | Now that I know how many children there are and how many columns, I can start to place              |
| [07:04](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=424.32) | them and it becomes really important that you have this async await API.                            |
| [07:08](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=428.04) | It just really flattens things down and makes you conscious of the long task that you might         |
| [07:13](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=432.68) | be doing.                                                                                           |
| [07:14](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=433.68) | So hopefully I explained that well.                                                                 |
| [07:15](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=435.1)  | It's a complex topic.                                                                               |
| [07:16](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=436.1)  | Yeah, no, that makes total sense, especially with something like masonry and responsive             |
| [07:19](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=439.24) | design.                                                                                             |
| [07:20](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=440.24) | You need to be able to get updated values to be able to relay out your UIs.                         |
| [07:25](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=445.4)  | So that makes total sense.                                                                          |
| [07:27](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=446.64) | And it also gives me a ton of respect for web authors who write these layouts into the              |
| [07:32](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=452.28) | browser.                                                                                            |
| [07:33](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=453.28) | I'm just like, uh.                                                                                  |
| [07:35](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=455.04) | So when you are writing these async layouts, within the layout function, you're going to            |
| [07:40](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=460.12) | get your children.                                                                                  |
| [07:41](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=461.24) | And then the next two properties or arguments that go into that function are edges and constraints. |
| [07:46](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=466.08) | So edges represent the box model edges, including border scroll bars, padding for the current       |
| [07:53](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=472.8)  | box which is being laid out.                                                                        |
| [07:54](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=474.24) | And you can think of edges sort of like a fence.                                                    |
| [07:57](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=476.94) | So edges have a start and a stop.                                                                   |
| [08:00](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=479.8)  | And then there's also constraints, which are available size constraints.                            |
| [08:04](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=484.12) | And these have a height and width whereas edges do not.                                             |
| [08:07](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=486.68) | The constraints are the size of, if you had that fence, the yard within that fence.                 |
| [08:12](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=492.12) | And on the edge of the yard, you would have the edges.                                              |
| [08:14](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=494.36) | So we can think of this as constraint space.                                                        |
| [08:17](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=496.6)  | And you could do something like const width equals constraint space dot width and const             |
| [08:20](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=500.44) | height equals constraint space dot height to get the constraints of the children.                   |
| [08:25](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=505.08) | You can also use the edges and constraints together.                                                |
| [08:28](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=507.64) | You need to use them together to help position those children within the layout parents.            |
| [08:32](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=512.36) | So these are two important concepts, edges and constraints, that you need to know when              |
| [08:36](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=515.92) | you're writing layout workloads.                                                                    |
| [08:37](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=517.28) | Yep.                                                                                                |
| [08:38](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=518.28) | And there's also concepts of fragments.                                                             |
| [08:40](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=519.96) | So each child, and it can have its own layout.                                                      |
| [08:42](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=522.2)  | There's nested concepts of layouts that are interesting in here that we're not really               |
| [08:46](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=526.16) | going to cover a whole lot.                                                                         |
| [08:48](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=527.5)  | But I appreciate you talking about edges and constraints.                                           |
| [08:50](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=529.56) | And one note there too is that as the author of a layout, it is your responsibility to              |
| [08:54](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=534.36) | be mindful of someone's padding and margin and desire for scroll bars because you could             |
| [08:59](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=539.08) | completely ignore them and paint something or lay out something that just didn't even               |
| [09:04](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=543.72) | listen to them.                                                                                     |
| [09:05](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=544.72) | So there's a lot of responsibility on you as a layout author here.                                  |
| [09:09](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=549.16) | And to add to that, there's the responsibility of inline and block sizing, which is why a           |
| [09:15](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=554.6)  | lot of this is written as inline and block.                                                         |
| [09:16](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=556.32) | You don't see top right bottom left, which is nice because it makes sense for that newer            |
| [09:22](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=561.84) | layout internationalized model that we have with logical properties and all of those things.        |
| [09:27](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=567.04) | This lets you write that way from the outset.                                                       |
| [09:29](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=569.04) | Yeah, that's true.                                                                                  |
| [09:30](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=570.04) | You have to go out of your way to do a physical layout versus a logical layout.                     |
| [09:34](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=573.94) | There's a method here called, it's one of the most important methods that's like a child            |
| [09:39](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=578.56) | method of your layout one is called layout next fragment.                                           |
| [09:42](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=581.8)  | And that creates a layout fragment for a layout child and it returns the result of the layout       |
| [09:47](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=586.96) | work.                                                                                               |
| [09:48](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=587.96) | So you have a layout child and a layout fragment and the work that you want to return is the        |
| [09:53](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=592.64) | result of those combined.                                                                           |
| [09:54](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=593.92) | So anyway, just wanted to briefly mention those concepts.                                           |
| [09:57](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=597.18) | We won't be diving deeper into those though.                                                        |
| [09:59](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=599.2)  | The next concept is something called intrinsic sizes.                                               |
| [10:02](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=601.84) | So you can call an intrinsic sizes function asynchronously to get the children, edges               |
| [10:06](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=606.12) | and style map.                                                                                      |
| [10:07](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=607.36) | And this allows for querying of the intrinsic sizes of the layout child.                            |
| [10:13](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=613.36) | Remember intrinsic size is size based on elements internal content.                                 |
| [10:17](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=617.28) | So if you think of like a header that H one says hello, the intrinsic size is the width             |
| [10:22](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=622.24) | of the text within it.                                                                              |
| [10:24](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=623.56) | And then the height at that font size is at the capital H in hello.                                 |
| [10:28](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=628.38) | So it is the size that the element sort of comfortably fits and says that it wants to               |
| [10:33](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=633.2)  | be itself.                                                                                          |
| [10:34](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=634.24) | So when you're working with layout and layout worklet, you can await a promise that returns         |
| [10:38](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=638.2)  | these intrinsic sizes as they change, which will definitely be helpful when writing layout          |
| [10:43](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=642.6)  | operations.                                                                                         |
| [10:44](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=643.6)  | And again, this is a promise.                                                                       |
| [10:46](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=645.52) | So you're getting information when you're asking for it, when it updates for that responsive        |
| [10:50](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=649.72) | design element to change, which is also makes total sense because it is a worklet and it            |
| [10:55](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=655.0)  | lives outside of the main thread and you're only really querying and calling it when it             |
| [10:59](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=659.08) | needs to be updated.                                                                                |
| [11:01](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=660.52) | So the fact that all these are promises, like I'm just putting together now, I'm just like,         |
| [11:05](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=664.56) | of course they're all promises.                                                                     |
| [11:06](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=665.56) | Yeah, yeah, absolutely.                                                                             |
| [11:07](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=666.56) | And especially because they yield something after an amount of time.                                |
| [11:12](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=671.64) | So it's just like the engine's like, look, I'm calling on you to do some work.                      |
| [11:15](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=674.54) | I am not going to wait for you.                                                                     |
| [11:16](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=676.16) | So just yield something back to me when you're ready.                                               |
| [11:19](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=678.8)  | Just go ahead and just admit that.                                                                  |
| [11:21](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=680.84) | And yeah, it's kind of nice that we're already in that sort of mindset.                             |
| [11:23](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=683.44) | Yeah, actually, wait, that's a generator function, huh?                                             |
| [11:26](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=685.88) | Generators yield, async functions don't yield.                                                      |
| [11:28](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=688.4)  | They await.                                                                                         |
| [11:29](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=689.4)  | They await.                                                                                         |
| [11:30](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=690.4)  | They're just waiting together.                                                                      |
| [11:32](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=692.28) | So do not yield results from your layout worklet.                                                   |
| [11:37](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=696.76) | Just return a promise that can be awaited or that's already resolved.                               |
| [11:40](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=700.28) | So it does expect a promise to come back.                                                           |
| [11:42](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=702.12) | Yeah, good point.                                                                                   |
| [11:43](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=703.36) | Promises, they just make sense for asynchronous stuff.                                              |
| [11:46](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=706.32) | Like we just don't know how long or how many children and we don't want to block that main          |
| [11:50](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=709.72) | thread, right?                                                                                      |
| [11:51](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=710.72) | We're just like, we're an independent contractor as a worklet.                                      |
| [11:53](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=713.16) | We're just like, hire us to do a job and then fire us when you're done and it's all good.           |
| [11:58](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=717.92) | The next thing to talk about here is creating a layout formatting context.                          |
| [12:02](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=721.72) | And this is the same as establishing a block formatting context for a layout, except that           |
| [12:05](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=725.44) | the layout here is provided by the author and it can be used instead of a block layout.             |
| [12:10](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=729.86) | So it's like a block layout, but it's not, right?                                                   |
| [12:14](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=733.96) | You're sort of a child of it.                                                                       |
| [12:16](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=735.54) | You're extending a block layout into something new.                                                 |
| [12:18](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=738.12) | So it's kind of interesting to talk about that.                                                     |
| [12:20](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=739.96) | And yeah, I have a note here.                                                                       |
| [12:21](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=741.48) | Just be careful not to ignore margin padding and alignment and writing modes.                       |
| [12:26](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=745.82) | And there's a long list of things that you should be considered of when you're doing                |
| [12:30](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=749.76) | your layout.                                                                                        |
| [12:31](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=750.76) | There is a lot of ways to sort of break layout.                                                     |
| [12:33](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=753.0)  | I find it really funny.                                                                             |
| [12:34](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=754.0)  | Like as we're reading this spec, it's just like, oh, here's a way you could break it.               |
| [12:38](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=757.56) | Here's another way.                                                                                 |
| [12:39](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=758.56) | When you're writing a worklet, you set the order of your child fragments that you're                |
| [12:42](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=762.04) | returning.                                                                                          |
| [12:43](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=763.2)  | So you could break accessibility this way.                                                          |
| [12:46](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=766.24) | Like if you're making a random layout, for example, and every time you refresh the page,            |
| [12:50](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=770.08) | for some reason you want a random layout that actually randomizes the positioning of your           |
| [12:54](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=774.32) | DOM elements, you will likely see that first top left most or top inline block most element         |
| [13:02](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=781.88) | not be the actual first element that matches the DOM order.                                         |
| [13:06](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=786.04) | That visual order likely doesn't match the DOM order.                                               |
| [13:09](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=788.76) | So that can be confusing for accessibility.                                                         |
| [13:11](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=791.44) | And it just makes it really easy to break that mental model, which is actually really               |
| [13:16](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=795.7)  | similar to what Flexbox does.                                                                       |
| [13:18](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=798.08) | When you change order in Flexbox, it also changes the visual layout of an element within            |
| [13:24](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=804.48) | the page, but it doesn't change the DOM tree and how a screen reader would read the DOM,            |
| [13:30](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=810.16) | for example.                                                                                        |
| [13:31](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=811.28) | So this can cause potential issues again when you're writing layout worklets.                       |
| [13:36](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=816.28) | And you could also theoretically change the order of pseudo elements, which is just like            |
| [13:39](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=819.48) | a weird fun fact because you, the author, have full control over layout.                            |
| [13:45](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=824.86) | As you are writing layout worklets that you're teaching the browser how to read and parse           |
| [13:50](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=830.28) | and use as your layout for your site, for your page.                                                |
| [13:55](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=834.96) | So today we studied Houdini layout worklets, which are just custom functions for display            |
| [13:59](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=839.0)  | values that allow developers to access the height and width of children, the developer              |
| [14:03](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=843.12) | written styles for padding, margin, writing mode, etc.                                              |
| [14:06](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=845.92) | All that stuff comes into the function so that you can have fun and make unique and                 |
| [14:10](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=849.92) | powerful layouts that are accessible and elegant.                                                   |
| [14:13](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=852.86) | For a really great example of a moderately difficult layout done with Houdini, check                |
| [14:17](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=856.76) | the show notes for the masonry layout by IMVido.                                                    |
| [14:20](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=859.88) | Give it a five minute overlook and you'll see the flow of how to handle your own layout             |
| [14:24](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=863.9)  | and it will illuminate as you see the request for child sizes, as a loop happens and places         |
| [14:29](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=869.42) | them in columns and returns layouts to the engine.                                                  |
| [14:33](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=872.84) | It's I think once you see one, it might become more clear.                                          |
| [14:35](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=875.2)  | Yeah, I think seeing it is definitely easier than us trying to explain the spec to you.             |
| [14:41](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=880.88) | You can take a look at that and it might help to illuminate how some of this works.                 |
| [14:44](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=884.08) | I saw a great example also from Sam Richards who did a circular layout where instead of             |
| [14:50](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=889.88) | aligning things from the block space, the block space became round.                                 |
| [14:56](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=895.56) | It's like a conic layout.                                                                           |
| [14:57](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=897.44) | Yeah, a conic layout.                                                                               |
| [14:58](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=898.44) | Oh, that's sick.                                                                                    |
| [14:59](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=899.44) | I thought it was really, really cool.                                                               |
| [15:02](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=902.44) | That is cool.                                                                                       |
| [15:03](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=903.44) | Which could be used in watches and other things like that.                                          |
| [15:05](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=905.16) | So that's kind of what this provides flexibility for, for authors to be able to extend existing     |
| [15:10](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=909.88) | layout algorithms.                                                                                  |
| [15:11](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=911.26) | So yeah, that's all we wanted to cover today.                                                       |
| [15:14](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=913.88) | Thank you so much for joining us again on our series and our journey through CSS Houdini.           |
| [15:20](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=919.68) | Yeah, Houdini is super cool.                                                                        |
| [15:22](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=921.5)  | It is this potential and it is a little bit complex, but there is room here for us to               |
| [15:27](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=926.76) | grow as an entire community and for you even to go flex your creative coding skills.                |
| [15:32](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=932.28) | It's a very powerful, potentially extremely high performant playground space for you to             |
| [15:38](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=938.12) | go dream up new layouts, new paints.                                                                |
| [15:41](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=941.24) | The world may be your oyster as long as you know canvas.                                            |
| [15:44](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=944.04) | I suppose that's the condition here.                                                                |
| [15:45](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=945.44) | Well, that's for paint.                                                                             |
| [15:46](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=946.44) | Oh, that is for paint.                                                                              |
| [15:47](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=947.44) | Yeah.                                                                                               |
| [15:48](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=948.44) | So be wary of some of the work, but you can do whatever you want there.                             |
| [15:51](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=951.04) | It's pretty fun.                                                                                    |
| [15:52](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=952.04) | If you have any other questions, feel free to tweet at us using the hashtag CSS podcast.            |
| [15:56](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=956.08) | I'm at Yuna on Twitter.                                                                             |
| [15:58](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=957.84) | And I'm at Argyle Link.                                                                             |
| [15:59](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=959.24) | Your question could help a lot of people.                                                           |
| [16:01](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=960.92) | If you liked the show, please give us a review on whatever podcasting app you're using or           |
| [16:05](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=964.68) | share this with a friend.                                                                           |
| [16:06](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=966.28) | Those reviews will help other people discover our show and help us have more time to deliver        |
| [16:10](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=970.28) | better content for you in the new year.                                                             |
| [16:13](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=972.68) | Thanks, y'all.                                                                                      |
| [16:14](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=973.68) | Share us your Houdini worklets.                                                                     |
| [16:15](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=974.68) | We want to see them.                                                                                |
| [16:16](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=975.68) | Yes, I'd love to see them.                                                                          |
| [16:17](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=976.68) | We'll see you next time.                                                                            |
| [16:18](https://open.spotify.com/episode/4vODG8jxzIDxECi63fzZTC?&t=977.68) | Spi, fellas!                                                                                        |
